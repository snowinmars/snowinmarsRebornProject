@import 'src/css/const';
@import 'src/css/colorSchema/default/definition';

@import 'sk-folding-cube.scss';

/* override the react-bootstrap-table 'options.sizePerPage' */
/* due to I want the toltip to open up but now down */
.dropdown-menu {
    top: auto;
    bottom: 100%;
}

.table > tbody > tr > td,
.table > tbody > tr > th,
.table > tfoot > tr > td,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > thead > tr > th {
    vertical-align: baseline;
}

.table > tbody > tr > td:first-child,
.table > tbody > tr > th:first-child,
.table > tfoot > tr > td:first-child,
.table > tfoot > tr > th:first-child,
.table > thead > tr > td:first-child,
.table > thead > tr > th:first-child {
    padding: 0;
    text-align: center;
    vertical-align: middle;
}

.table-hover > tbody > tr:hover {
    background-color: $normalBgHoverColor;
}

.react-bootstrap-table-page-btns-ul.pagination {
    margin: 0;
    margin-right: $containerMargin;
}

.react-bootstrap-table-pagination-list {
    text-align: right;
}

.dropdown.react-bs-table-sizePerPage-dropdown {
    margin-left: $containerMargin;
}

.simr-book-page-actions {
    padding: 1em;
    border-top: 3px $normalBorderColor solid;
    border-top-left-radius: 1em;
    border-top-right-radius: 1em;
}

.simr-loader {
    top: -$containerMargin;
    left: -$containerMargin;
    bottom: -$containerMargin;
    right: -$containerMargin;
    position: absolute;

    background-image: radial-gradient(
        ellipse at center,
        rgba($color: #000, $alpha: 0.5),
        rgba($color: #000, $alpha: 1)
    );

    transition: opacity 2s;
    opacity: 0.7;

    z-index: 10;
}

@mixin animation($duration, $animation) {
    -webkit-animation-duration: $duration;
    -webkit-animation-name: $animation;
    -webkit-animation-fill-mode: forwards; /* this prevents the animation from restarting! */

    -moz-animation-duration: $duration;
    -moz-animation-name: $animation;
    -moz-animation-fill-mode: forwards; /* this prevents the animation from restarting! */

    -o-animation-duration: $duration;
    -o-animation-name: $animation;
    -o-animation-fill-mode: forwards; /* this prevents the animation from restarting! */

    animation-duration: $duration;
    animation-name: $animation;
    animation-fill-mode: forwards; /* this prevents the animation from restarting! */
}

@keyframes changecolour {
    0% {
        color: rgba($color: #fff, $alpha: 0);
    }

    100% {
        color: rgba($color: #fff, $alpha: 1);
    }
}

.simr-loader-api-error {
    background-image: radial-gradient(
        ellipse at center,
        rgba($color: #000, $alpha: 0.7),
        rgba($color: #200, $alpha: 0.8)
    );

    top: -$containerMargin;
    left: -$containerMargin;
    bottom: -$containerMargin;
    right: -$containerMargin;

    &:after {
        content: 'Got API error, try again later';
        color: white;
        font-size: 150%;

        @include animation(2s, changecolour);
    }

    transition: opacity 2s;
    opacity: 1;

    .sk-folding-cube {
        display: none;
    }
}
.simr-expanded-book {
    &:hover {
        background-color: $normalBgHoverColor;
    }

    padding: 1em;
    .simr-book-description {
        .simr-image {
            img {
                width: 440px;
                height: auto;
            }
        }
        .simr-additional-info {
            word-wrap: break-word;
            white-space: normal;
            margin-left: 2em;
        }
    }
    .simr-main-book-info {
        width: 100%;
        .simr-title {
            font-size: 150%;
            margin-top: 1em;
        }

        .simr-authors {
            margin-left: $main-page-inner-content-margin;
            &:before {
                content: 'â€”';
                position: relative;
                left: -($main-page-inner-content-margin / 2);
            }
        }
        .simr-author {
            margin-left: 0.5em;
            &:after {
                content: ',';
            }
            &:last-child:after {
                content: '';
            }
        }
    }
    .simr-secondary-book-info {
        width: 100%;
        margin-top: 1em;
        max-height: 3em;
    }
}

.simr-book-table-search {
    border-bottom: $normalBorderColor 1px solid;
    margin-bottom: 0.5em;
    padding-bottom: 0.5em;

    & > input {
        background-color: $normalBgHoverColor;
        border-color: $normalBorderColor;
        color: $normalTextColor;

        &:focus {
            @include nofocus;
            background-color: $normalBgFocusColor;
            border-color: $normalBorderFocusColor;
            color: $normalTextFocusColor;
        }
    }
}
